---
import Layout from '../layouts/Layout.astro';
import AuthGuard from '../components/AuthGuard';
import AppShell from '../components/AppShell';
import AuditTable from '../components/AuditTable';
const tenantId = Astro.url.searchParams.get('tenantId') ?? '';
---
<Layout>
  <AuthGuard client:load>
    <AppShell client:load>
      <form class="mb-4 flex gap-2">
        <input name="tenantId" value={tenantId} class="bg-white/5 rounded p-2" placeholder="Tenant ID" />
        <button class="px-3 py-2 rounded bg-white/10" type="submit">Buscar</button>
      </form>
      {tenantId ? <AuditTable client:load tenantId={tenantId} /> : <p class="opacity-70">Ingresa un tenantId</p>}
    </AppShell>
  </AuthGuard>
</Layout>
